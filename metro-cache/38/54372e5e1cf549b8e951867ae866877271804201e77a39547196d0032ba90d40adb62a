{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var ExponentWebBrowser = _reactNative.NativeModules.ExponentWebBrowser;\n\n  function openBrowserAsync(url) {\n    return _regenerator.default.async(function openBrowserAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", ExponentWebBrowser.openBrowserAsync(url));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissBrowser() {\n    ExponentWebBrowser.dismissBrowser();\n  }\n\n  function openAuthSessionAsync(url, redirectUrl) {\n    return _regenerator.default.async(function openAuthSessionAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!_authSessionIsNativelySupported()) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", ExponentWebBrowser.openAuthSessionAsync(url, redirectUrl));\n\n          case 4:\n            return _context2.abrupt(\"return\", _openAuthSessionPolyfillAsync(url, redirectUrl));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissAuthSession() {\n    if (_authSessionIsNativelySupported()) {\n      ExponentWebBrowser.dismissAuthSession();\n    } else {\n      ExponentWebBrowser.dismissBrowser();\n    }\n  }\n\n  function _authSessionIsNativelySupported() {\n    if (_reactNative.Platform.OS === 'android') {\n      return false;\n    }\n\n    var versionNumber = parseInt(String(_reactNative.Platform.Version), 10);\n    return versionNumber >= 11;\n  }\n\n  var _redirectHandler = null;\n\n  function _openAuthSessionPolyfillAsync(startUrl, returnUrl) {\n    return _regenerator.default.async(function _openAuthSessionPolyfillAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!_redirectHandler) {\n              _context3.next = 2;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser's auth session is in an invalid state with a redirect handler set when it should not be\");\n\n          case 2:\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _regenerator.default.awrap(Promise.race([openBrowserAsync(startUrl), _waitForRedirectAsync(returnUrl)]));\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n            _context3.prev = 6;\n            dismissBrowser();\n\n            if (_redirectHandler) {\n              _context3.next = 10;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser auth session is in an invalid state with no redirect handler when one should be set\");\n\n          case 10:\n            _reactNative.Linking.removeEventListener('url', _redirectHandler);\n\n            _redirectHandler = null;\n            return _context3.finish(6);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, this, [[2,, 6, 13]]);\n  }\n\n  function _waitForRedirectAsync(returnUrl) {\n    return new Promise(function (resolve) {\n      _redirectHandler = function _redirectHandler(event) {\n        if (event.url.startsWith(returnUrl)) {\n          resolve({\n            url: event.url,\n            type: 'success'\n          });\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', _redirectHandler);\n    });\n  }\n\n  var _default = {\n    openBrowserAsync: openBrowserAsync,\n    openAuthSessionAsync: openAuthSessionAsync,\n    dismissBrowser: dismissBrowser,\n    dismissAuthSession: dismissAuthSession\n  };\n  exports.default = _default;\n});","map":[[11,0,1,0],[13,6,2,8,"ExponentWebBrowser"],[13,24],[13,27,2,31,"NativeModules"],[13,53],[13,54,2,8,"ExponentWebBrowser"],[13,72],[15,0,3,0],[15,11,3,15,"openBrowserAsync"],[15,27,3,0],[15,28,3,32,"url"],[15,31,3,0],[16,0,3,0],[17,0,3,0],[18,0,3,0],[19,0,3,0],[20,0,3,0],[20,45,4,11,"ExponentWebBrowser"],[20,63,4,29],[20,64,4,30,"openBrowserAsync"],[20,80,4,11],[20,81,4,47,"url"],[20,84,4,11],[20,85,3,0],[22,0,3,0],[23,0,3,0],[24,0,3,0],[25,0,3,0],[26,0,3,0],[27,0,3,0],[28,0,3,0],[30,0,6,0],[30,11,6,9,"dismissBrowser"],[30,25,6,0],[30,28,6,26],[31,0,7,4,"ExponentWebBrowser"],[31,4,7,4,"ExponentWebBrowser"],[31,22,7,22],[31,23,7,23,"dismissBrowser"],[31,37,7,4],[32,0,8,1],[34,0,9,0],[34,11,9,15,"openAuthSessionAsync"],[34,31,9,0],[34,32,9,36,"url"],[34,35,9,0],[34,37,9,41,"redirectUrl"],[34,48,9,0],[35,0,9,0],[36,0,9,0],[37,0,9,0],[38,0,9,0],[39,0,9,0],[39,17,10,8,"_authSessionIsNativelySupported"],[39,48,10,39],[39,50,9,0],[40,0,9,0],[41,0,9,0],[42,0,9,0],[44,0,9,0],[44,46,11,15,"ExponentWebBrowser"],[44,64,11,33],[44,65,11,34,"openAuthSessionAsync"],[44,85,11,15],[44,86,11,55,"url"],[44,89,11,15],[44,91,11,60,"redirectUrl"],[44,102,11,15],[44,103,9,0],[46,0,9,0],[47,0,9,0],[47,46,14,15,"_openAuthSessionPolyfillAsync"],[47,75,14,44],[47,76,14,45,"url"],[47,79,14,44],[47,81,14,50,"redirectUrl"],[47,92,14,44],[47,93,9,0],[49,0,9,0],[50,0,9,0],[51,0,9,0],[52,0,9,0],[53,0,9,0],[54,0,9,0],[55,0,9,0],[57,0,17,0],[57,11,17,9,"dismissAuthSession"],[57,29,17,0],[57,32,17,30],[58,0,18,4],[58,8,18,8,"_authSessionIsNativelySupported"],[58,39,18,39],[58,41,18,4],[58,43,18,43],[59,0,19,8,"ExponentWebBrowser"],[59,6,19,8,"ExponentWebBrowser"],[59,24,19,26],[59,25,19,27,"dismissAuthSession"],[59,43,19,8],[60,0,20,5],[60,5,18,4],[60,11,21,9],[61,0,22,8,"ExponentWebBrowser"],[61,6,22,8,"ExponentWebBrowser"],[61,24,22,26],[61,25,22,27,"dismissBrowser"],[61,39,22,8],[62,0,23,5],[63,0,24,1],[65,0,26,0],[65,11,26,9,"_authSessionIsNativelySupported"],[65,42,26,0],[65,45,26,43],[66,0,27,4],[66,8,27,8,"Platform"],[66,30,27,17,"OS"],[66,32,27,8],[66,37,27,24],[66,46,27,4],[66,48,27,35],[67,0,28,8],[67,13,28,15],[67,18,28,8],[68,0,29,5],[70,0,30,4],[70,8,30,10,"versionNumber"],[70,21,30,23],[70,24,30,26,"parseInt"],[70,32,30,34],[70,33,30,35,"String"],[70,39,30,41],[70,40,30,42,"Platform"],[70,62,30,51,"Version"],[70,69,30,41],[70,70,30,34],[70,72,30,61],[70,74,30,34],[70,75,30,4],[71,0,31,4],[71,11,31,11,"versionNumber"],[71,24,31,24],[71,28,31,28],[71,30,31,4],[72,0,32,1],[74,0,33,0],[74,6,33,4,"_redirectHandler"],[74,22,33,20],[74,25,33,23],[74,29,33,0],[76,0,34,0],[76,11,34,15,"_openAuthSessionPolyfillAsync"],[76,40,34,0],[76,41,34,45,"startUrl"],[76,49,34,0],[76,51,34,55,"returnUrl"],[76,60,34,0],[77,0,34,0],[78,0,34,0],[79,0,34,0],[80,0,34,0],[81,0,34,0],[81,17,35,8,"_redirectHandler"],[81,33,34,0],[82,0,34,0],[83,0,34,0],[84,0,34,0],[86,0,34,0],[86,18,36,14],[86,22,36,18,"Error"],[86,27,36,14],[86,133,34,0],[88,0,34,0],[89,0,34,0],[90,0,34,0],[91,0,34,0],[91,46,39,21,"Promise"],[91,53,39,28],[91,54,39,29,"race"],[91,58,39,21],[91,59,39,34],[91,60,39,35,"openBrowserAsync"],[91,76,39,51],[91,77,39,52,"startUrl"],[91,85,39,51],[91,86,39,34],[91,88,39,63,"_waitForRedirectAsync"],[91,109,39,84],[91,110,39,85,"returnUrl"],[91,119,39,84],[91,120,39,34],[91,121,39,21],[91,122,34,0],[93,0,34,0],[94,0,34,0],[96,0,34,0],[97,0,34,0],[98,0,42,8,"dismissBrowser"],[98,12,42,8,"dismissBrowser"],[98,26,42,22],[100,0,34,0],[100,16,43,13,"_redirectHandler"],[100,32,34,0],[101,0,34,0],[102,0,34,0],[103,0,34,0],[105,0,34,0],[105,18,44,18],[105,22,44,22,"Error"],[105,27,44,18],[105,129,34,0],[107,0,34,0],[108,0,46,8,"Linking"],[108,33,46,16,"removeEventListener"],[108,52,46,8],[108,53,46,36],[108,58,46,8],[108,60,46,43,"_redirectHandler"],[108,76,46,8],[110,0,47,8,"_redirectHandler"],[110,12,47,8,"_redirectHandler"],[110,28,47,24],[110,31,47,27],[110,35,47,8],[111,0,34,0],[113,0,34,0],[114,0,34,0],[115,0,34,0],[116,0,34,0],[117,0,34,0],[118,0,34,0],[119,0,34,0],[121,0,50,0],[121,11,50,9,"_waitForRedirectAsync"],[121,32,50,0],[121,33,50,31,"returnUrl"],[121,42,50,0],[121,44,50,42],[122,0,51,4],[122,11,51,11],[122,15,51,15,"Promise"],[122,22,51,11],[122,23,51,23],[122,33,51,23,"resolve"],[122,40,51,30],[122,42,51,34],[123,0,52,8,"_redirectHandler"],[123,6,52,8,"_redirectHandler"],[123,22,52,24],[123,25,52,27],[123,51,52,28,"event"],[123,56,52,27],[123,58,52,38],[124,0,53,12],[124,12,53,16,"event"],[124,17,53,21],[124,18,53,22,"url"],[124,21,53,16],[124,22,53,26,"startsWith"],[124,32,53,16],[124,33,53,37,"returnUrl"],[124,42,53,16],[124,43,53,12],[124,45,53,49],[125,0,54,16,"resolve"],[125,10,54,16,"resolve"],[125,17,54,23],[125,18,54,24],[126,0,54,26,"url"],[126,12,54,26,"url"],[126,15,54,29],[126,17,54,31,"event"],[126,22,54,36],[126,23,54,37,"url"],[126,26,54,24],[127,0,54,42,"type"],[127,12,54,42,"type"],[127,16,54,46],[127,18,54,48],[128,0,54,24],[128,11,54,23],[128,12,54,16],[129,0,55,13],[130,0,56,9],[130,7,52,8],[132,0,57,8,"Linking"],[132,27,57,16,"addEventListener"],[132,43,57,8],[132,44,57,33],[132,49,57,8],[132,51,57,40,"_redirectHandler"],[132,67,57,8],[133,0,58,5],[133,5,51,11],[133,6,51,4],[134,0,59,1],[136,17,60,15],[137,0,61,4,"openBrowserAsync"],[137,4,61,4,"openBrowserAsync"],[137,20,61,20],[137,22,61,4,"openBrowserAsync"],[137,38,60,15],[138,0,62,4,"openAuthSessionAsync"],[138,4,62,4,"openAuthSessionAsync"],[138,24,62,24],[138,26,62,4,"openAuthSessionAsync"],[138,46,60,15],[139,0,63,4,"dismissBrowser"],[139,4,63,4,"dismissBrowser"],[139,18,63,18],[139,20,63,4,"dismissBrowser"],[139,34,60,15],[140,0,64,4,"dismissAuthSession"],[140,4,64,4,"dismissAuthSession"],[140,22,64,22],[140,24,64,4,"dismissAuthSession"],[141,0,60,15],[141,3]]},"type":"js/module"}]}