{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reload = reload;\n  exports.reloadFromCache = reloadFromCache;\n  exports.checkForUpdateAsync = checkForUpdateAsync;\n  exports.fetchUpdateAsync = fetchUpdateAsync;\n  exports.addListener = addListener;\n  exports.EventType = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[2], \"fbemitter\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var ExponentUpdates = _reactNative.NativeModules.ExponentUpdates;\n\n  function reload() {\n    ExponentUpdates.reload();\n  }\n\n  function reloadFromCache() {\n    ExponentUpdates.reloadFromCache();\n  }\n\n  function checkForUpdateAsync() {\n    var result, returnObj;\n    return _regenerator.default.async(function checkForUpdateAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regenerator.default.awrap(ExponentUpdates.checkForUpdateAsync());\n\n          case 2:\n            result = _context.sent;\n            returnObj = {\n              isAvailable: !!result\n            };\n\n            if (result) {\n              returnObj.manifest = typeof result === 'string' ? JSON.parse(result) : result;\n            }\n\n            return _context.abrupt(\"return\", returnObj);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function fetchUpdateAsync() {\n    var _ref,\n        eventListener,\n        subscription,\n        result,\n        returnObj,\n        _args2 = arguments;\n\n    return _regenerator.default.async(function fetchUpdateAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, eventListener = _ref.eventListener;\n\n            if (eventListener && typeof eventListener === 'function') {\n              subscription = addListener(eventListener);\n            }\n\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _regenerator.default.awrap(ExponentUpdates.fetchUpdateAsync());\n\n          case 5:\n            result = _context2.sent;\n\n          case 6:\n            _context2.prev = 6;\n            subscription && subscription.remove();\n            return _context2.finish(6);\n\n          case 9:\n            returnObj = {\n              isNew: !!result\n            };\n\n            if (result) {\n              returnObj.manifest = typeof result === 'string' ? JSON.parse(result) : result;\n            }\n\n            return _context2.abrupt(\"return\", returnObj);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, this, [[2,, 6, 9]]);\n  }\n\n  var _emitter;\n\n  function _getEmitter() {\n    if (!_emitter) {\n      _emitter = new _fbemitter.EventEmitter();\n\n      _reactNative.DeviceEventEmitter.addListener('Exponent.nativeUpdatesEvent', _emitEvent);\n    }\n\n    return _emitter;\n  }\n\n  function _emitEvent(params) {\n    var newParams = params;\n\n    if (typeof params === 'string') {\n      newParams = JSON.parse(params);\n    }\n\n    if (newParams.manifestString) {\n      newParams.manifest = JSON.parse(newParams.manifestString);\n      delete newParams.manifestString;\n    }\n\n    if (!_emitter) {\n      throw new Error(\"EventEmitter must be initialized to use from its listener\");\n    }\n\n    _emitter.emit('Exponent.updatesEvent', newParams);\n  }\n\n  function addListener(listener) {\n    var emitter = _getEmitter();\n\n    return emitter.addListener('Exponent.updatesEvent', listener);\n  }\n\n  var EventType = {\n    DOWNLOAD_STARTED: 'downloadStart',\n    DOWNLOAD_PROGRESS: 'downloadProgress',\n    DOWNLOAD_FINISHED: 'downloadFinished',\n    NO_UPDATE_AVAILABLE: 'noUpdateAvailable',\n    ERROR: 'error'\n  };\n  exports.EventType = EventType;\n});","map":[[16,0,1,0],[18,0,2,0],[20,6,3,8,"ExponentUpdates"],[20,21],[20,24,3,28,"NativeModules"],[20,50],[20,51,3,8,"ExponentUpdates"],[20,66],[22,0,4,7],[22,11,4,16,"reload"],[22,17,4,7],[22,20,4,25],[23,0,5,4,"ExponentUpdates"],[23,4,5,4,"ExponentUpdates"],[23,19,5,19],[23,20,5,20,"reload"],[23,26,5,4],[24,0,6,1],[26,0,7,7],[26,11,7,16,"reloadFromCache"],[26,26,7,7],[26,29,7,34],[27,0,8,4,"ExponentUpdates"],[27,4,8,4,"ExponentUpdates"],[27,19,8,19],[27,20,8,20,"reloadFromCache"],[27,35,8,4],[28,0,9,1],[30,0,10,7],[30,11,10,22,"checkForUpdateAsync"],[30,30,10,7],[31,0,10,7],[32,0,10,7],[33,0,10,7],[34,0,10,7],[35,0,10,7],[36,0,10,7],[37,0,10,7],[37,46,11,25,"ExponentUpdates"],[37,61,11,40],[37,62,11,41,"checkForUpdateAsync"],[37,81,11,25],[37,83,10,7],[39,0,10,7],[40,0,11,10,"result"],[40,12,11,10,"result"],[40,18,10,7],[41,0,12,8,"returnObj"],[41,12,12,8,"returnObj"],[41,21,10,7],[41,24,12,20],[42,0,13,8,"isAvailable"],[42,14,13,8,"isAvailable"],[42,25,13,19],[42,27,13,21],[42,28,13,22],[42,29,13,23,"result"],[43,0,12,20],[43,13,10,7],[45,0,15,4],[45,16,15,8,"result"],[45,22,15,4],[45,24,15,16],[46,0,16,8,"returnObj"],[46,14,16,8,"returnObj"],[46,23,16,17],[46,24,16,18,"manifest"],[46,32,16,8],[46,35,16,29],[46,42,16,36,"result"],[46,48,16,29],[46,53,16,47],[46,61,16,29],[46,64,16,58,"JSON"],[46,68,16,62],[46,69,16,63,"parse"],[46,74,16,58],[46,75,16,69,"result"],[46,81,16,58],[46,82,16,29],[46,85,16,79,"result"],[46,91,16,8],[47,0,17,5],[49,0,10,7],[49,45,18,11,"returnObj"],[49,54,10,7],[51,0,10,7],[52,0,10,7],[53,0,10,7],[54,0,10,7],[55,0,10,7],[56,0,10,7],[57,0,10,7],[59,0,20,7],[59,11,20,22,"fetchUpdateAsync"],[59,27,20,7],[60,0,20,7],[61,0,20,7],[62,0,20,7],[63,0,20,7],[64,0,20,7],[65,0,20,7],[67,0,20,7],[68,0,20,7],[69,0,20,7],[70,0,20,7],[71,0,20,7],[71,78,20,59],[71,80,20,7],[71,82,20,41,"eventListener"],[71,95,20,7],[71,103,20,41,"eventListener"],[71,116,20,7],[73,0,23,4],[73,16,23,8,"eventListener"],[73,29,23,21],[73,33,23,25],[73,40,23,32,"eventListener"],[73,53,23,25],[73,58,23,50],[73,68,23,4],[73,70,23,62],[74,0,24,8,"subscription"],[74,14,24,8,"subscription"],[74,26,24,20],[74,29,24,23,"addListener"],[74,40,24,34],[74,41,24,35,"eventListener"],[74,54,24,34],[74,55,24,8],[75,0,25,5],[77,0,20,7],[78,0,20,7],[79,0,20,7],[79,46,27,23,"ExponentUpdates"],[79,61,27,38],[79,62,27,39,"fetchUpdateAsync"],[79,78,27,23],[79,80,20,7],[81,0,20,7],[82,0,27,8,"result"],[82,12,27,8,"result"],[82,18,20,7],[84,0,20,7],[85,0,20,7],[86,0,30,8,"subscription"],[86,12,30,8,"subscription"],[86,24,30,20],[86,28,30,24,"subscription"],[86,40,30,36],[86,41,30,37,"remove"],[86,47,30,24],[86,49,30,8],[87,0,20,7],[89,0,20,7],[90,0,32,8,"returnObj"],[90,12,32,8,"returnObj"],[90,21,20,7],[90,24,32,20],[91,0,33,8,"isNew"],[91,14,33,8,"isNew"],[91,19,33,13],[91,21,33,15],[91,22,33,16],[91,23,33,17,"result"],[92,0,32,20],[92,13,20,7],[94,0,35,4],[94,16,35,8,"result"],[94,22,35,4],[94,24,35,16],[95,0,36,8,"returnObj"],[95,14,36,8,"returnObj"],[95,23,36,17],[95,24,36,18,"manifest"],[95,32,36,8],[95,35,36,29],[95,42,36,36,"result"],[95,48,36,29],[95,53,36,47],[95,61,36,29],[95,64,36,58,"JSON"],[95,68,36,62],[95,69,36,63,"parse"],[95,74,36,58],[95,75,36,69,"result"],[95,81,36,58],[95,82,36,29],[95,85,36,79,"result"],[95,91,36,8],[96,0,37,5],[98,0,20,7],[98,46,38,11,"returnObj"],[98,55,20,7],[100,0,20,7],[101,0,20,7],[102,0,20,7],[103,0,20,7],[104,0,20,7],[105,0,20,7],[106,0,20,7],[108,0,40,0],[108,6,40,4,"_emitter"],[108,14,40,0],[110,0,41,0],[110,11,41,9,"_getEmitter"],[110,22,41,0],[110,25,41,23],[111,0,42,4],[111,8,42,8],[111,9,42,9,"_emitter"],[111,17,42,4],[111,19,42,19],[112,0,43,8,"_emitter"],[112,6,43,8,"_emitter"],[112,14,43,16],[112,17,43,19],[112,21,43,23,"EventEmitter"],[112,44,43,19],[112,46,43,8],[114,0,44,8,"DeviceEventEmitter"],[114,38,44,27,"addListener"],[114,49,44,8],[114,50,44,39],[114,79,44,8],[114,81,44,70,"_emitEvent"],[114,91,44,8],[115,0,45,5],[117,0,46,4],[117,11,46,11,"_emitter"],[117,19,46,4],[118,0,47,1],[120,0,48,0],[120,11,48,9,"_emitEvent"],[120,21,48,0],[120,22,48,20,"params"],[120,28,48,0],[120,30,48,28],[121,0,49,4],[121,8,49,8,"newParams"],[121,17,49,17],[121,20,49,20,"params"],[121,26,49,4],[123,0,50,4],[123,8,50,8],[123,15,50,15,"params"],[123,21,50,8],[123,26,50,26],[123,34,50,4],[123,36,50,36],[124,0,51,8,"newParams"],[124,6,51,8,"newParams"],[124,15,51,17],[124,18,51,20,"JSON"],[124,22,51,24],[124,23,51,25,"parse"],[124,28,51,20],[124,29,51,31,"params"],[124,35,51,20],[124,36,51,8],[125,0,52,5],[127,0,53,4],[127,8,53,8,"newParams"],[127,17,53,17],[127,18,53,18,"manifestString"],[127,32,53,4],[127,34,53,34],[128,0,54,8,"newParams"],[128,6,54,8,"newParams"],[128,15,54,17],[128,16,54,18,"manifest"],[128,24,54,8],[128,27,54,29,"JSON"],[128,31,54,33],[128,32,54,34,"parse"],[128,37,54,29],[128,38,54,40,"newParams"],[128,47,54,49],[128,48,54,50,"manifestString"],[128,62,54,29],[128,63,54,8],[129,0,55,8],[129,13,55,15,"newParams"],[129,22,55,24],[129,23,55,25,"manifestString"],[129,37,55,8],[130,0,56,5],[132,0,57,4],[132,8,57,8],[132,9,57,9,"_emitter"],[132,17,57,4],[132,19,57,19],[133,0,58,8],[133,12,58,14],[133,16,58,18,"Error"],[133,21,58,14],[133,82,58,8],[134,0,59,5],[136,0,60,4,"_emitter"],[136,4,60,4,"_emitter"],[136,12,60,12],[136,13,60,13,"emit"],[136,17,60,4],[136,18,60,18],[136,41,60,4],[136,43,60,43,"newParams"],[136,52,60,4],[137,0,61,1],[139,0,62,7],[139,11,62,16,"addListener"],[139,22,62,7],[139,23,62,28,"listener"],[139,31,62,7],[139,33,62,38],[140,0,63,4],[140,8,63,8,"emitter"],[140,15,63,15],[140,18,63,18,"_getEmitter"],[140,29,63,29],[140,31,63,4],[142,0,64,4],[142,11,64,11,"emitter"],[142,18,64,18],[142,19,64,19,"addListener"],[142,30,64,11],[142,31,64,31],[142,54,64,11],[142,56,64,56,"listener"],[142,64,64,11],[142,65,64,4],[143,0,65,1],[145,0,66,7],[145,6,66,13,"EventType"],[145,15,66,22],[145,18,66,25],[146,0,67,4,"DOWNLOAD_STARTED"],[146,4,67,4,"DOWNLOAD_STARTED"],[146,20,67,20],[146,22,67,22],[146,37,66,25],[147,0,68,4,"DOWNLOAD_PROGRESS"],[147,4,68,4,"DOWNLOAD_PROGRESS"],[147,21,68,21],[147,23,68,23],[147,41,66,25],[148,0,69,4,"DOWNLOAD_FINISHED"],[148,4,69,4,"DOWNLOAD_FINISHED"],[148,21,69,21],[148,23,69,23],[148,41,66,25],[149,0,70,4,"NO_UPDATE_AVAILABLE"],[149,4,70,4,"NO_UPDATE_AVAILABLE"],[149,23,70,23],[149,25,70,25],[149,44,66,25],[150,0,71,4,"ERROR"],[150,4,71,4,"ERROR"],[150,9,71,9],[150,11,71,11],[151,0,66,25],[151,3,66,7]]},"type":"js/module"}]}