{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"expo-core","data":{"isAsync":false}},{"name":"uuid-js","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getInfoAsync = getInfoAsync;\n  exports.readAsStringAsync = readAsStringAsync;\n  exports.writeAsStringAsync = writeAsStringAsync;\n  exports.deleteAsync = deleteAsync;\n  exports.moveAsync = moveAsync;\n  exports.copyAsync = copyAsync;\n  exports.makeDirectoryAsync = makeDirectoryAsync;\n  exports.readDirectoryAsync = readDirectoryAsync;\n  exports.downloadAsync = downloadAsync;\n  exports.createDownloadResumable = createDownloadResumable;\n  exports.DownloadResumable = exports.EncodingTypes = exports.bundleDirectory = exports.bundledAssets = exports.cacheDirectory = exports.documentDirectory = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _expoCore = _$$_REQUIRE(_dependencyMap[4], \"expo-core\");\n\n  var _uuidJs = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"uuid-js\"));\n\n  var FS = _expoCore.NativeModulesProxy.ExponentFileSystem;\n\n  var normalizeEndingSlash = function normalizeEndingSlash(p) {\n    return p.replace(/\\/*$/, '') + '/';\n  };\n\n  FS.documentDirectory = normalizeEndingSlash(FS.documentDirectory);\n  FS.cacheDirectory = normalizeEndingSlash(FS.cacheDirectory);\n  var documentDirectory = FS.documentDirectory;\n  exports.documentDirectory = documentDirectory;\n  var cacheDirectory = FS.cacheDirectory;\n  exports.cacheDirectory = cacheDirectory;\n  var bundledAssets = FS.bundledAssets;\n  exports.bundledAssets = bundledAssets;\n  var bundleDirectory = FS.bundleDirectory;\n  exports.bundleDirectory = bundleDirectory;\n  var EncodingTypes = {\n    UTF8: \"utf8\",\n    Base64: \"base64\"\n  };\n  exports.EncodingTypes = EncodingTypes;\n\n  function getInfoAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return FS.getInfoAsync(fileUri, options);\n  }\n\n  function readAsStringAsync(fileUri, options) {\n    return FS.readAsStringAsync(fileUri, options || {});\n  }\n\n  function writeAsStringAsync(fileUri, contents, options) {\n    return FS.writeAsStringAsync(fileUri, contents, options || {});\n  }\n\n  function deleteAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return FS.deleteAsync(fileUri, options);\n  }\n\n  function moveAsync(options) {\n    return FS.moveAsync(options);\n  }\n\n  function copyAsync(options) {\n    return FS.copyAsync(options);\n  }\n\n  function makeDirectoryAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return FS.makeDirectoryAsync(fileUri, options);\n  }\n\n  function readDirectoryAsync(fileUri) {\n    return FS.readDirectoryAsync(fileUri, {});\n  }\n\n  function downloadAsync(uri, fileUri) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return FS.downloadAsync(uri, fileUri, options);\n  }\n\n  function createDownloadResumable(uri, fileUri, options, callback, resumeData) {\n    return new DownloadResumable(uri, fileUri, options, callback, resumeData);\n  }\n\n  var DownloadResumable = function () {\n    function DownloadResumable(url, fileUri) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      var resumeData = arguments.length > 4 ? arguments[4] : undefined;\n      (0, _classCallCheck2.default)(this, DownloadResumable);\n      this._uuid = _uuidJs.default.create(4).toString();\n      this._url = url;\n      this._fileUri = fileUri;\n      this._options = options;\n      this._resumeData = resumeData;\n      this._callback = callback;\n      this._subscription = null;\n      this._emitter = new _expoCore.EventEmitter(FS);\n    }\n\n    (0, _createClass2.default)(DownloadResumable, [{\n      key: \"downloadAsync\",\n      value: function downloadAsync() {\n        return _regenerator.default.async(function downloadAsync$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._addSubscription();\n\n                _context.next = 3;\n                return _regenerator.default.awrap(FS.downloadResumableStartAsync(this._url, this._fileUri, this._uuid, this._options, this._resumeData));\n\n              case 3:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"pauseAsync\",\n      value: function pauseAsync() {\n        var pauseResult;\n        return _regenerator.default.async(function pauseAsync$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regenerator.default.awrap(FS.downloadResumablePauseAsync(this._uuid));\n\n              case 2:\n                pauseResult = _context2.sent;\n\n                this._removeSubscription();\n\n                if (!pauseResult) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                this._resumeData = pauseResult.resumeData;\n                return _context2.abrupt(\"return\", this.savable());\n\n              case 9:\n                throw new Error('Unable to generate a savable pause state');\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"resumeAsync\",\n      value: function resumeAsync() {\n        return _regenerator.default.async(function resumeAsync$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this._addSubscription();\n\n                _context3.next = 3;\n                return _regenerator.default.awrap(FS.downloadResumableStartAsync(this._url, this._fileUri, this._uuid, this._options, this._resumeData));\n\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"savable\",\n      value: function savable() {\n        return {\n          url: this._url,\n          fileUri: this._fileUri,\n          options: this._options,\n          resumeData: this._resumeData\n        };\n      }\n    }, {\n      key: \"_addSubscription\",\n      value: function _addSubscription() {\n        var _this = this;\n\n        if (this._subscription) {\n          return;\n        }\n\n        this._subscription = this._emitter.addListener('Exponent.downloadProgress', function (_ref) {\n          var uuid = _ref.uuid,\n              data = _ref.data;\n\n          if (uuid === _this._uuid) {\n            var callback = _this._callback;\n\n            if (callback) {\n              callback(data);\n            }\n          }\n        });\n      }\n    }, {\n      key: \"_removeSubscription\",\n      value: function _removeSubscription() {\n        if (!this._subscription) {\n          return;\n        }\n\n        this._emitter.removeSubscription(this._subscription);\n\n        this._subscription = null;\n      }\n    }]);\n    return DownloadResumable;\n  }();\n\n  exports.DownloadResumable = DownloadResumable;\n});","map":[[25,0,3,0],[27,0,4,0],[29,0,6,0],[29,6,6,6,"FS"],[29,8,6,8],[29,11,6,11,"NativeModulesProxy"],[29,40,6,30,"ExponentFileSystem"],[29,58,6,0],[31,0,8,0],[31,6,8,6,"normalizeEndingSlash"],[31,26,8,26],[31,29,8,29],[31,38,8,6,"normalizeEndingSlash"],[31,58,8,29],[31,59,8,29,"p"],[31,60,8,30],[32,0,8,30],[32,11,8,34,"p"],[32,12,8,35],[32,13,8,36,"replace"],[32,20,8,34],[32,21,8,44],[32,27,8,34],[32,29,8,52],[32,31,8,34],[32,35,8,58],[32,38,8,30],[33,0,8,30],[33,3,8,0],[35,0,10,0,"FS"],[35,2,10,0,"FS"],[35,4,10,2],[35,5,10,3,"documentDirectory"],[35,22,10,0],[35,25,10,23,"normalizeEndingSlash"],[35,45,10,43],[35,46,10,44,"FS"],[35,48,10,46],[35,49,10,47,"documentDirectory"],[35,66,10,43],[35,67,10,0],[36,0,11,0,"FS"],[36,2,11,0,"FS"],[36,4,11,2],[36,5,11,3,"cacheDirectory"],[36,19,11,0],[36,22,11,20,"normalizeEndingSlash"],[36,42,11,40],[36,43,11,41,"FS"],[36,45,11,43],[36,46,11,44,"cacheDirectory"],[36,60,11,40],[36,61,11,0],[37,0,13,7],[37,6,13,13,"documentDirectory"],[37,23,13,30],[37,26,13,33,"FS"],[37,28,13,35],[37,29,13,36,"documentDirectory"],[37,46,13,7],[39,0,14,7],[39,6,14,13,"cacheDirectory"],[39,20,14,27],[39,23,14,30,"FS"],[39,25,14,32],[39,26,14,33,"cacheDirectory"],[39,40,14,7],[41,0,15,7],[41,6,15,13,"bundledAssets"],[41,19,15,26],[41,22,15,29,"FS"],[41,24,15,31],[41,25,15,32,"bundledAssets"],[41,38,15,7],[43,0,16,7],[43,6,16,13,"bundleDirectory"],[43,21,16,28],[43,24,16,31,"FS"],[43,26,16,33],[43,27,16,34,"bundleDirectory"],[43,42,16,7],[45,0,17,7],[45,6,17,13,"EncodingTypes"],[45,19,17,26],[45,22,17,29],[46,0,18,2,"UTF8"],[46,4,18,2,"UTF8"],[46,8,18,6],[46,10,18,8],[46,16,17,29],[47,0,19,2,"Base64"],[47,4,19,2,"Base64"],[47,10,19,8],[47,12,19,10],[48,0,17,29],[48,3,17,7],[51,0,48,7],[51,11,48,16,"getInfoAsync"],[51,23,48,7],[51,24,48,29,"fileUri"],[51,31,48,7],[51,33,48,98],[52,0,48,98],[52,8,48,46,"options"],[52,15,48,98],[52,86,48,75],[52,88,48,98],[53,0,49,2],[53,11,49,9,"FS"],[53,13,49,11],[53,14,49,12,"getInfoAsync"],[53,26,49,9],[53,27,49,25,"fileUri"],[53,34,49,9],[53,36,49,34,"options"],[53,43,49,9],[53,44,49,2],[54,0,50,1],[56,0,52,7],[56,11,52,16,"readAsStringAsync"],[56,28,52,7],[56,29,52,34,"fileUri"],[56,36,52,7],[56,38,52,51,"options"],[56,45,52,7],[56,47,52,94],[57,0,53,2],[57,11,53,9,"FS"],[57,13,53,11],[57,14,53,12,"readAsStringAsync"],[57,31,53,9],[57,32,53,30,"fileUri"],[57,39,53,9],[57,41,53,39,"options"],[57,48,53,46],[57,52,53,50],[57,54,53,9],[57,55,53,2],[58,0,54,1],[60,0,56,7],[60,11,56,16,"writeAsStringAsync"],[60,29,56,7],[60,30,56,35,"fileUri"],[60,37,56,7],[60,39,56,52,"contents"],[60,47,56,7],[60,49,56,70,"options"],[60,56,56,7],[60,58,56,111],[61,0,57,2],[61,11,57,9,"FS"],[61,13,57,11],[61,14,57,12,"writeAsStringAsync"],[61,32,57,9],[61,33,57,31,"fileUri"],[61,40,57,9],[61,42,57,40,"contents"],[61,50,57,9],[61,52,57,50,"options"],[61,59,57,57],[61,63,57,61],[61,65,57,9],[61,66,57,2],[62,0,58,1],[64,0,60,7],[64,11,60,16,"deleteAsync"],[64,22,60,7],[64,23,61,2,"fileUri"],[64,30,60,7],[64,32,63,17],[65,0,63,17],[65,8,62,2,"options"],[65,15,63,17],[65,86,62,38],[65,88,63,17],[66,0,64,2],[66,11,64,9,"FS"],[66,13,64,11],[66,14,64,12,"deleteAsync"],[66,25,64,9],[66,26,64,24,"fileUri"],[66,33,64,9],[66,35,64,33,"options"],[66,42,64,9],[66,43,64,2],[67,0,65,1],[69,0,67,7],[69,11,67,16,"moveAsync"],[69,20,67,7],[69,21,67,26,"options"],[69,28,67,7],[69,30,67,80],[70,0,68,2],[70,11,68,9,"FS"],[70,13,68,11],[70,14,68,12,"moveAsync"],[70,23,68,9],[70,24,68,22,"options"],[70,31,68,9],[70,32,68,2],[71,0,69,1],[73,0,71,7],[73,11,71,16,"copyAsync"],[73,20,71,7],[73,21,71,26,"options"],[73,28,71,7],[73,30,71,80],[74,0,72,2],[74,11,72,9,"FS"],[74,13,72,11],[74,14,72,12,"copyAsync"],[74,23,72,9],[74,24,72,22,"options"],[74,31,72,9],[74,32,72,2],[75,0,73,1],[77,0,75,7],[77,11,75,16,"makeDirectoryAsync"],[77,29,75,7],[77,30,76,2,"fileUri"],[77,37,75,7],[77,39,78,17],[78,0,78,17],[78,8,77,2,"options"],[78,15,78,17],[78,86,77,41],[78,88,78,17],[79,0,79,2],[79,11,79,9,"FS"],[79,13,79,11],[79,14,79,12,"makeDirectoryAsync"],[79,32,79,9],[79,33,79,31,"fileUri"],[79,40,79,9],[79,42,79,40,"options"],[79,49,79,9],[79,50,79,2],[80,0,80,1],[82,0,82,7],[82,11,82,16,"readDirectoryAsync"],[82,29,82,7],[82,30,82,35,"fileUri"],[82,37,82,7],[82,39,82,67],[83,0,83,2],[83,11,83,9,"FS"],[83,13,83,11],[83,14,83,12,"readDirectoryAsync"],[83,32,83,9],[83,33,83,31,"fileUri"],[83,40,83,9],[83,42,83,40],[83,44,83,9],[83,45,83,2],[84,0,84,1],[86,0,97,7],[86,11,97,16,"downloadAsync"],[86,24,97,7],[86,25,98,2,"uri"],[86,28,97,7],[86,30,99,2,"fileUri"],[86,37,97,7],[86,39,101,27],[87,0,101,27],[87,8,100,2,"options"],[87,15,101,27],[87,86,100,29],[87,88,101,27],[88,0,102,2],[88,11,102,9,"FS"],[88,13,102,11],[88,14,102,12,"downloadAsync"],[88,27,102,9],[88,28,102,26,"uri"],[88,31,102,9],[88,33,102,31,"fileUri"],[88,40,102,9],[88,42,102,40,"options"],[88,49,102,9],[88,50,102,2],[89,0,103,1],[91,0,105,7],[91,11,105,16,"createDownloadResumable"],[91,34,105,7],[91,35,106,2,"uri"],[91,38,105,7],[91,40,107,2,"fileUri"],[91,47,105,7],[91,49,108,2,"options"],[91,56,105,7],[91,58,109,2,"callback"],[91,66,105,7],[91,68,110,2,"resumeData"],[91,78,105,7],[91,80,111,2],[92,0,112,2],[92,11,112,9],[92,15,112,13,"DownloadResumable"],[92,32,112,9],[92,33,112,31,"uri"],[92,36,112,9],[92,38,112,36,"fileUri"],[92,45,112,9],[92,47,112,45,"options"],[92,54,112,9],[92,56,112,54,"callback"],[92,64,112,9],[92,66,112,64,"resumeData"],[92,76,112,9],[92,77,112,2],[93,0,113,1],[95,6,127,13,"DownloadResumable"],[95,23],[96,0,137,2],[96,31,138,4,"url"],[96,34,137,2],[96,36,139,4,"fileUri"],[96,43,137,2],[96,45,143,4],[97,0,143,4],[97,10,140,4,"options"],[97,17,143,4],[97,88,140,31],[97,90,143,4],[98,0,143,4],[98,10,141,4,"callback"],[98,18,143,4],[99,0,143,4],[99,10,142,4,"resumeData"],[99,20,143,4],[100,0,143,4],[101,0,144,4],[101,11,144,9,"_uuid"],[101,16,144,4],[101,19,144,17,"UUID"],[101,35,144,22,"create"],[101,41,144,17],[101,42,144,29],[101,43,144,17],[101,45,144,32,"toString"],[101,53,144,17],[101,55,144,4],[102,0,145,4],[102,11,145,9,"_url"],[102,15,145,4],[102,18,145,16,"url"],[102,21,145,4],[103,0,146,4],[103,11,146,9,"_fileUri"],[103,19,146,4],[103,22,146,20,"fileUri"],[103,29,146,4],[104,0,147,4],[104,11,147,9,"_options"],[104,19,147,4],[104,22,147,20,"options"],[104,29,147,4],[105,0,148,4],[105,11,148,9,"_resumeData"],[105,22,148,4],[105,25,148,23,"resumeData"],[105,35,148,4],[106,0,149,4],[106,11,149,9,"_callback"],[106,20,149,4],[106,23,149,21,"callback"],[106,31,149,4],[107,0,150,4],[107,11,150,9,"_subscription"],[107,24,150,4],[107,27,150,25],[107,31,150,4],[108,0,151,4],[108,11,151,9,"_emitter"],[108,19,151,4],[108,22,151,20],[108,26,151,24,"EventEmitter"],[108,48,151,20],[108,49,151,37,"FS"],[108,51,151,20],[108,52,151,4],[109,0,152,3],[118,0,155,4],[118,21,155,9,"_addSubscription"],[118,37,155,4],[121,50,156,17,"FS"],[121,52,156,19],[121,53,156,20,"downloadResumableStartAsync"],[121,80,156,17],[121,81,157,6],[121,86,157,11,"_url"],[121,90,156,17],[121,92,158,6],[121,97,158,11,"_fileUri"],[121,105,156,17],[121,107,159,6],[121,112,159,11,"_uuid"],[121,117,156,17],[121,119,160,6],[121,124,160,11,"_options"],[121,132,156,17],[121,134,161,6],[121,139,161,11,"_resumeData"],[121,150,156,17],[121,151],[142,50,166,30,"FS"],[142,52,166,32],[142,53,166,33,"downloadResumablePauseAsync"],[142,80,166,30],[142,81,166,61],[142,86,166,66,"_uuid"],[142,91,166,30],[142,92],[145,0,166,10,"pauseResult"],[145,16,166,10,"pauseResult"],[145,27],[147,0,167,4],[147,21,167,9,"_removeSubscription"],[147,40,167,4],[149,21,168,8,"pauseResult"],[149,32],[154,0,169,6],[154,21,169,11,"_resumeData"],[154,32,169,6],[154,35,169,25,"pauseResult"],[154,46,169,36],[154,47,169,37,"resumeData"],[154,57,169,6],[155,50,170,13],[155,55,170,18,"savable"],[155,62,170,13],[155,64],[158,22,172,12],[158,26,172,16,"Error"],[158,31,172,12],[158,32,172,22],[158,74,172,12],[158,75],[174,0,177,4],[174,21,177,9,"_addSubscription"],[174,37,177,4],[177,50,178,17,"FS"],[177,52,178,19],[177,53,178,20,"downloadResumableStartAsync"],[177,80,178,17],[177,81,179,6],[177,86,179,11,"_url"],[177,90,178,17],[177,92,180,6],[177,97,180,11,"_fileUri"],[177,105,178,17],[177,107,181,6],[177,112,181,11,"_uuid"],[177,117,178,17],[177,119,182,6],[177,124,182,11,"_options"],[177,132,178,17],[177,134,183,6],[177,139,183,11,"_resumeData"],[177,150,178,17],[177,151],[191,32,187,32],[192,0,188,4],[192,15,188,11],[193,0,189,6,"url"],[193,10,189,6,"url"],[193,13,189,9],[193,15,189,11],[193,20,189,16,"_url"],[193,24,188,11],[194,0,190,6,"fileUri"],[194,10,190,6,"fileUri"],[194,17,190,13],[194,19,190,15],[194,24,190,20,"_fileUri"],[194,32,188,11],[195,0,191,6,"options"],[195,10,191,6,"options"],[195,17,191,13],[195,19,191,15],[195,24,191,20,"_options"],[195,32,188,11],[196,0,192,6,"resumeData"],[196,10,192,6,"resumeData"],[196,20,192,16],[196,22,192,18],[196,27,192,23,"_resumeData"],[197,0,188,11],[197,9,188,4],[198,0,194,3],[201,41,196,27],[202,0,196,27],[204,0,197,4],[204,12,197,8],[204,17,197,13,"_subscription"],[204,30,197,4],[204,32,197,28],[205,0,198,6],[206,0,199,5],[208,0,200,4],[208,13,200,9,"_subscription"],[208,26,200,4],[208,29,200,25],[208,34,200,30,"_emitter"],[208,42,200,25],[208,43,200,39,"addListener"],[208,54,200,25],[208,55,201,6],[208,82,200,25],[208,84,202,6],[208,100,202,26],[209,0,202,26],[209,14,202,9,"uuid"],[209,18,202,26],[209,26,202,9,"uuid"],[209,30,202,26],[210,0,202,26],[210,14,202,15,"data"],[210,18,202,26],[210,26,202,15,"data"],[210,30,202,26],[212,0,203,8],[212,14,203,12,"uuid"],[212,18,203,16],[212,23,203,21],[212,28,203,25],[212,29,203,26,"_uuid"],[212,34,203,8],[212,36,203,33],[213,0,204,10],[213,16,204,16,"callback"],[213,24,204,24],[213,27,204,27],[213,32,204,31],[213,33,204,32,"_callback"],[213,42,204,10],[215,0,205,10],[215,16,205,14,"callback"],[215,24,205,10],[215,26,205,24],[216,0,206,12,"callback"],[216,14,206,12,"callback"],[216,22,206,20],[216,23,206,21,"data"],[216,27,206,20],[216,28,206,12],[217,0,207,11],[218,0,208,9],[219,0,209,7],[219,9,200,25],[219,10,200,4],[220,0,211,3],[223,44,213,30],[224,0,214,4],[224,12,214,8],[224,13,214,9],[224,18,214,14,"_subscription"],[224,31,214,4],[224,33,214,29],[225,0,215,6],[226,0,216,5],[228,0,217,4],[228,13,217,9,"_emitter"],[228,21,217,4],[228,22,217,18,"removeSubscription"],[228,40,217,4],[228,41,217,37],[228,46,217,42,"_subscription"],[228,59,217,4],[230,0,218,4],[230,13,218,9,"_subscription"],[230,26,218,4],[230,29,218,25],[230,33,218,4],[231,0,219,3]]},"type":"js/module"}]}