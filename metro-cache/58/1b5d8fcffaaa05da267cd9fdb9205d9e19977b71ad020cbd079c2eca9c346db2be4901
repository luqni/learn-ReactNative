{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.speak = speak;\n  exports.isSpeakingAsync = isSpeakingAsync;\n  exports.stop = stop;\n  exports.pause = pause;\n  exports.resume = resume;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var ExponentSpeech = _reactNative.NativeModules.ExponentSpeech;\n  var SpeechEventEmitter = new _reactNative.NativeEventEmitter(ExponentSpeech);\n  var _CALLBACKS = {};\n  var _nextCallbackId = 1;\n  var _didSetListeners = false;\n\n  function _unregisterListenersIfNeeded() {\n    if (Object.keys(_CALLBACKS).length === 0) {\n      removeSpeakingListener('Exponent.speakingStarted');\n      removeSpeakingListener('Exponent.speakingDone');\n      removeSpeakingListener('Exponent.speakingStopped');\n      removeSpeakingListener('Exponent.speakingError');\n      _didSetListeners = false;\n    }\n  }\n\n  function _registerListenersIfNeeded() {\n    if (_didSetListeners) return;\n    _didSetListeners = true;\n    setSpeakingListener('Exponent.speakingStarted', function (_ref) {\n      var id = _ref.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStart) {\n        options.onStart();\n      }\n    });\n    setSpeakingListener('Exponent.speakingDone', function (_ref2) {\n      var id = _ref2.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onDone) {\n        options.onDone();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingStopped', function (_ref3) {\n      var id = _ref3.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStopped) {\n        options.onStopped();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingError', function (_ref4) {\n      var id = _ref4.id,\n          error = _ref4.error;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onError) {\n        options.onError(new Error(error));\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n  }\n\n  function speak(text) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = _nextCallbackId++;\n    _CALLBACKS[id] = options;\n\n    _registerListenersIfNeeded();\n\n    ExponentSpeech.speak(String(id), text, options);\n  }\n\n  function isSpeakingAsync() {\n    return _regenerator.default.async(function isSpeakingAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regenerator.default.awrap(ExponentSpeech.isSpeaking());\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function stop() {\n    ExponentSpeech.stop();\n  }\n\n  function pause() {\n    if (_reactNative.Platform.OS === 'ios') {\n      ExponentSpeech.pause();\n    } else {\n      throw new Error('Speech.pause is not available on Android');\n    }\n  }\n\n  function resume() {\n    if (_reactNative.Platform.OS === 'ios') {\n      ExponentSpeech.resume();\n    } else {\n      throw new Error('Speech.resume is not available on Android');\n    }\n  }\n\n  function setSpeakingListener(eventName, callback) {\n    if (SpeechEventEmitter.listeners(eventName).length > 0) {\n      SpeechEventEmitter.removeAllListeners(eventName);\n    }\n\n    SpeechEventEmitter.addListener(eventName, callback);\n  }\n\n  function removeSpeakingListener(eventName) {\n    SpeechEventEmitter.removeAllListeners(eventName);\n  }\n});","map":[[15,0,1,0],[17,6,2,8,"ExponentSpeech"],[17,20],[17,23,2,27,"NativeModules"],[17,49],[17,50,2,8,"ExponentSpeech"],[17,64],[18,0,3,0],[18,6,3,6,"SpeechEventEmitter"],[18,24,3,24],[18,27,3,27],[18,31,3,31,"NativeEventEmitter"],[18,62,3,27],[18,63,3,50,"ExponentSpeech"],[18,77,3,27],[18,78,3,0],[19,0,4,0],[19,6,4,6,"_CALLBACKS"],[19,16,4,16],[19,19,4,19],[19,21,4,0],[20,0,5,0],[20,6,5,4,"_nextCallbackId"],[20,21,5,19],[20,24,5,22],[20,25,5,0],[21,0,6,0],[21,6,6,4,"_didSetListeners"],[21,22,6,20],[21,25,6,23],[21,30,6,0],[23,0,7,0],[23,11,7,9,"_unregisterListenersIfNeeded"],[23,39,7,0],[23,42,7,40],[24,0,8,4],[24,8,8,8,"Object"],[24,14,8,14],[24,15,8,15,"keys"],[24,19,8,8],[24,20,8,20,"_CALLBACKS"],[24,30,8,8],[24,32,8,32,"length"],[24,38,8,8],[24,43,8,43],[24,44,8,4],[24,46,8,46],[25,0,9,8,"removeSpeakingListener"],[25,6,9,8,"removeSpeakingListener"],[25,28,9,30],[25,29,9,31],[25,55,9,30],[25,56,9,8],[26,0,10,8,"removeSpeakingListener"],[26,6,10,8,"removeSpeakingListener"],[26,28,10,30],[26,29,10,31],[26,52,10,30],[26,53,10,8],[27,0,11,8,"removeSpeakingListener"],[27,6,11,8,"removeSpeakingListener"],[27,28,11,30],[27,29,11,31],[27,55,11,30],[27,56,11,8],[28,0,12,8,"removeSpeakingListener"],[28,6,12,8,"removeSpeakingListener"],[28,28,12,30],[28,29,12,31],[28,53,12,30],[28,54,12,8],[29,0,13,8,"_didSetListeners"],[29,6,13,8,"_didSetListeners"],[29,22,13,24],[29,25,13,27],[29,30,13,8],[30,0,14,5],[31,0,15,1],[33,0,16,0],[33,11,16,9,"_registerListenersIfNeeded"],[33,37,16,0],[33,40,16,38],[34,0,17,4],[34,8,17,8,"_didSetListeners"],[34,24,17,4],[34,26,18,8],[35,0,19,4,"_didSetListeners"],[35,4,19,4,"_didSetListeners"],[35,20,19,20],[35,23,19,23],[35,27,19,4],[36,0,20,4,"setSpeakingListener"],[36,4,20,4,"setSpeakingListener"],[36,23,20,23],[36,24,20,24],[36,50,20,23],[36,52,20,52],[36,68,20,64],[37,0,20,64],[37,10,20,55,"id"],[37,12,20,64],[37,20,20,55,"id"],[37,22,20,64],[38,0,21,8],[38,10,21,14,"options"],[38,17,21,21],[38,20,21,24,"_CALLBACKS"],[38,30,21,34],[38,31,21,35,"id"],[38,33,21,34],[38,34,21,8],[40,0,22,8],[40,10,22,12,"options"],[40,17,22,19],[40,21,22,23,"options"],[40,28,22,30],[40,29,22,31,"onStart"],[40,36,22,8],[40,38,22,40],[41,0,23,12,"options"],[41,8,23,12,"options"],[41,15,23,19],[41,16,23,20,"onStart"],[41,23,23,12],[42,0,24,9],[43,0,25,5],[43,5,20,23],[43,6,20,4],[44,0,26,4,"setSpeakingListener"],[44,4,26,4,"setSpeakingListener"],[44,23,26,23],[44,24,26,24],[44,47,26,23],[44,49,26,49],[44,66,26,61],[45,0,26,61],[45,10,26,52,"id"],[45,12,26,61],[45,21,26,52,"id"],[45,23,26,61],[46,0,27,8],[46,10,27,14,"options"],[46,17,27,21],[46,20,27,24,"_CALLBACKS"],[46,30,27,34],[46,31,27,35,"id"],[46,33,27,34],[46,34,27,8],[48,0,28,8],[48,10,28,12,"options"],[48,17,28,19],[48,21,28,23,"options"],[48,28,28,30],[48,29,28,31,"onDone"],[48,35,28,8],[48,37,28,39],[49,0,29,12,"options"],[49,8,29,12,"options"],[49,15,29,19],[49,16,29,20,"onDone"],[49,22,29,12],[50,0,30,9],[52,0,31,8],[52,13,31,15,"_CALLBACKS"],[52,23,31,25],[52,24,31,26,"id"],[52,26,31,25],[52,27,31,8],[54,0,32,8,"_unregisterListenersIfNeeded"],[54,6,32,8,"_unregisterListenersIfNeeded"],[54,34,32,36],[55,0,33,5],[55,5,26,23],[55,6,26,4],[56,0,34,4,"setSpeakingListener"],[56,4,34,4,"setSpeakingListener"],[56,23,34,23],[56,24,34,24],[56,50,34,23],[56,52,34,52],[56,69,34,64],[57,0,34,64],[57,10,34,55,"id"],[57,12,34,64],[57,21,34,55,"id"],[57,23,34,64],[58,0,35,8],[58,10,35,14,"options"],[58,17,35,21],[58,20,35,24,"_CALLBACKS"],[58,30,35,34],[58,31,35,35,"id"],[58,33,35,34],[58,34,35,8],[60,0,36,8],[60,10,36,12,"options"],[60,17,36,19],[60,21,36,23,"options"],[60,28,36,30],[60,29,36,31,"onStopped"],[60,38,36,8],[60,40,36,42],[61,0,37,12,"options"],[61,8,37,12,"options"],[61,15,37,19],[61,16,37,20,"onStopped"],[61,25,37,12],[62,0,38,9],[64,0,39,8],[64,13,39,15,"_CALLBACKS"],[64,23,39,25],[64,24,39,26,"id"],[64,26,39,25],[64,27,39,8],[66,0,40,8,"_unregisterListenersIfNeeded"],[66,6,40,8,"_unregisterListenersIfNeeded"],[66,34,40,36],[67,0,41,5],[67,5,34,23],[67,6,34,4],[68,0,42,4,"setSpeakingListener"],[68,4,42,4,"setSpeakingListener"],[68,23,42,23],[68,24,42,24],[68,48,42,23],[68,50,42,50],[68,67,42,69],[69,0,42,69],[69,10,42,53,"id"],[69,12,42,69],[69,21,42,53,"id"],[69,23,42,69],[70,0,42,69],[70,10,42,57,"error"],[70,15,42,69],[70,24,42,57,"error"],[70,29,42,69],[71,0,43,8],[71,10,43,14,"options"],[71,17,43,21],[71,20,43,24,"_CALLBACKS"],[71,30,43,34],[71,31,43,35,"id"],[71,33,43,34],[71,34,43,8],[73,0,44,8],[73,10,44,12,"options"],[73,17,44,19],[73,21,44,23,"options"],[73,28,44,30],[73,29,44,31,"onError"],[73,36,44,8],[73,38,44,40],[74,0,45,12,"options"],[74,8,45,12,"options"],[74,15,45,19],[74,16,45,20,"onError"],[74,23,45,12],[74,24,45,28],[74,28,45,32,"Error"],[74,33,45,28],[74,34,45,38,"error"],[74,39,45,28],[74,40,45,12],[75,0,46,9],[77,0,47,8],[77,13,47,15,"_CALLBACKS"],[77,23,47,25],[77,24,47,26,"id"],[77,26,47,25],[77,27,47,8],[79,0,48,8,"_unregisterListenersIfNeeded"],[79,6,48,8,"_unregisterListenersIfNeeded"],[79,34,48,36],[80,0,49,5],[80,5,42,23],[80,6,42,4],[81,0,50,1],[83,0,51,7],[83,11,51,16,"speak"],[83,16,51,7],[83,17,51,22,"text"],[83,21,51,7],[83,23,51,42],[84,0,51,42],[84,8,51,28,"options"],[84,15,51,42],[84,86,51,38],[84,88,51,42],[85,0,52,4],[85,8,52,10,"id"],[85,10,52,12],[85,13,52,15,"_nextCallbackId"],[85,28,52,30],[85,30,52,4],[86,0,53,4,"_CALLBACKS"],[86,4,53,4,"_CALLBACKS"],[86,14,53,14],[86,15,53,15,"id"],[86,17,53,14],[86,18,53,4],[86,21,53,21,"options"],[86,28,53,4],[88,0,54,4,"_registerListenersIfNeeded"],[88,4,54,4,"_registerListenersIfNeeded"],[88,30,54,30],[90,0,55,4,"ExponentSpeech"],[90,4,55,4,"ExponentSpeech"],[90,18,55,18],[90,19,55,19,"speak"],[90,24,55,4],[90,25,55,25,"String"],[90,31,55,31],[90,32,55,32,"id"],[90,34,55,31],[90,35,55,4],[90,37,55,37,"text"],[90,41,55,4],[90,43,55,43,"options"],[90,50,55,4],[91,0,56,1],[93,0,57,7],[93,11,57,22,"isSpeakingAsync"],[93,26,57,7],[94,0,57,7],[95,0,57,7],[96,0,57,7],[97,0,57,7],[98,0,57,7],[99,0,57,7],[99,46,58,17,"ExponentSpeech"],[99,60,58,31],[99,61,58,32,"isSpeaking"],[99,71,58,17],[99,73,57,7],[101,0,57,7],[102,0,57,7],[104,0,57,7],[105,0,57,7],[106,0,57,7],[107,0,57,7],[108,0,57,7],[109,0,57,7],[110,0,57,7],[112,0,60,7],[112,11,60,16,"stop"],[112,15,60,7],[112,18,60,23],[113,0,61,4,"ExponentSpeech"],[113,4,61,4,"ExponentSpeech"],[113,18,61,18],[113,19,61,19,"stop"],[113,23,61,4],[114,0,62,1],[116,0,63,7],[116,11,63,16,"pause"],[116,16,63,7],[116,19,63,24],[117,0,64,4],[117,8,64,8,"Platform"],[117,30,64,17,"OS"],[117,32,64,8],[117,37,64,24],[117,42,64,4],[117,44,64,31],[118,0,65,8,"ExponentSpeech"],[118,6,65,8,"ExponentSpeech"],[118,20,65,22],[118,21,65,23,"pause"],[118,26,65,8],[119,0,66,5],[119,5,64,4],[119,11,67,9],[120,0,68,8],[120,12,68,14],[120,16,68,18,"Error"],[120,21,68,14],[120,22,68,24],[120,64,68,14],[120,65,68,8],[121,0,69,5],[122,0,70,1],[124,0,71,7],[124,11,71,16,"resume"],[124,17,71,7],[124,20,71,25],[125,0,72,4],[125,8,72,8,"Platform"],[125,30,72,17,"OS"],[125,32,72,8],[125,37,72,24],[125,42,72,4],[125,44,72,31],[126,0,73,8,"ExponentSpeech"],[126,6,73,8,"ExponentSpeech"],[126,20,73,22],[126,21,73,23,"resume"],[126,27,73,8],[127,0,74,5],[127,5,72,4],[127,11,75,9],[128,0,76,8],[128,12,76,14],[128,16,76,18,"Error"],[128,21,76,14],[128,22,76,24],[128,65,76,14],[128,66,76,8],[129,0,77,5],[130,0,78,1],[132,0,79,0],[132,11,79,9,"setSpeakingListener"],[132,30,79,0],[132,31,79,29,"eventName"],[132,40,79,0],[132,42,79,40,"callback"],[132,50,79,0],[132,52,79,50],[133,0,80,4],[133,8,80,8,"SpeechEventEmitter"],[133,26,80,26],[133,27,80,27,"listeners"],[133,36,80,8],[133,37,80,37,"eventName"],[133,46,80,8],[133,48,80,48,"length"],[133,54,80,8],[133,57,80,57],[133,58,80,4],[133,60,80,60],[134,0,81,8,"SpeechEventEmitter"],[134,6,81,8,"SpeechEventEmitter"],[134,24,81,26],[134,25,81,27,"removeAllListeners"],[134,43,81,8],[134,44,81,46,"eventName"],[134,53,81,8],[135,0,82,5],[137,0,83,4,"SpeechEventEmitter"],[137,4,83,4,"SpeechEventEmitter"],[137,22,83,22],[137,23,83,23,"addListener"],[137,34,83,4],[137,35,83,35,"eventName"],[137,44,83,4],[137,46,83,46,"callback"],[137,54,83,4],[138,0,84,1],[140,0,85,0],[140,11,85,9,"removeSpeakingListener"],[140,33,85,0],[140,34,85,32,"eventName"],[140,43,85,0],[140,45,85,43],[141,0,86,4,"SpeechEventEmitter"],[141,4,86,4,"SpeechEventEmitter"],[141,22,86,22],[141,23,86,23,"removeAllListeners"],[141,41,86,4],[141,42,86,42,"eventName"],[141,51,86,4],[142,0,87,1]]},"type":"js/module"}]}