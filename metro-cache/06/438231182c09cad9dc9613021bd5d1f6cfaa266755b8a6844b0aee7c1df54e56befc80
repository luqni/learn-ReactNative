{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./Updates","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reload = reload;\n  exports.addNewVersionListenerExperimental = addNewVersionListenerExperimental;\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[1], \"fbemitter\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var Updates = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"./Updates\"));\n\n  function reload() {\n    console.warn('Util.reload is deprecated and will be removed in SDK 31, use Updates.reload instead');\n    return Updates.reload();\n  }\n\n  var _emitter;\n\n  function _getEmitter() {\n    if (!_emitter) {\n      _emitter = new _fbemitter.EventEmitter();\n\n      _reactNative.DeviceEventEmitter.addListener('Exponent.nativeUpdatesEvent', _emitNewVersionAvailable);\n    }\n\n    return _emitter;\n  }\n\n  function _emitNewVersionAvailable(newVersionEvent) {\n    if (typeof newVersionEvent === 'string') {\n      newVersionEvent = JSON.parse(newVersionEvent);\n    }\n\n    if (newVersionEvent.type === 'downloadFinished') {\n      if (newVersionEvent.manifestString && typeof newVersionEvent.manifestString === 'string') {\n        newVersionEvent.manifest = JSON.parse(newVersionEvent.manifestString);\n        delete newVersionEvent.manifestString;\n      }\n\n      delete newVersionEvent.type;\n\n      if (!_emitter) {\n        throw new Error(\"EventEmitter must be initialized to use from its listener\");\n      }\n\n      _emitter.emit('newVersionAvailable', newVersionEvent);\n    }\n  }\n\n  function addNewVersionListenerExperimental(listener) {\n    console.warn('Util.addNewVersionListenerExperimental is deprecated and will be removed in SDK 31, use Updates.addListener instead');\n\n    var emitter = _getEmitter();\n\n    return emitter.addListener('newVersionAvailable', listener);\n  }\n});","map":[[10,0,1,0],[12,0,2,0],[14,0,3,0],[16,0,4,7],[16,11,4,16,"reload"],[16,17,4,7],[16,20,4,25],[17,0,5,4,"console"],[17,4,5,4,"console"],[17,11,5,11],[17,12,5,12,"warn"],[17,16,5,4],[17,17,5,17],[17,102,5,4],[18,0,6,4],[18,11,6,11,"Updates"],[18,18,6,18],[18,19,6,19,"reload"],[18,25,6,11],[18,27,6,4],[19,0,7,1],[21,0,8,0],[21,6,8,4,"_emitter"],[21,14,8,0],[23,0,9,0],[23,11,9,9,"_getEmitter"],[23,22,9,0],[23,25,9,23],[24,0,10,4],[24,8,10,8],[24,9,10,9,"_emitter"],[24,17,10,4],[24,19,10,19],[25,0,11,8,"_emitter"],[25,6,11,8,"_emitter"],[25,14,11,16],[25,17,11,19],[25,21,11,23,"EventEmitter"],[25,44,11,19],[25,46,11,8],[27,0,12,8,"DeviceEventEmitter"],[27,38,12,27,"addListener"],[27,49,12,8],[27,50,12,39],[27,79,12,8],[27,81,12,70,"_emitNewVersionAvailable"],[27,105,12,8],[28,0,13,5],[30,0,14,4],[30,11,14,11,"_emitter"],[30,19,14,4],[31,0,15,1],[33,0,16,0],[33,11,16,9,"_emitNewVersionAvailable"],[33,35,16,0],[33,36,16,34,"newVersionEvent"],[33,51,16,0],[33,53,16,51],[34,0,17,4],[34,8,17,8],[34,15,17,15,"newVersionEvent"],[34,30,17,8],[34,35,17,35],[34,43,17,4],[34,45,17,45],[35,0,18,8,"newVersionEvent"],[35,6,18,8,"newVersionEvent"],[35,21,18,23],[35,24,18,26,"JSON"],[35,28,18,30],[35,29,18,31,"parse"],[35,34,18,26],[35,35,18,37,"newVersionEvent"],[35,50,18,26],[35,51,18,8],[36,0,19,5],[38,0,21,4],[38,8,21,8,"newVersionEvent"],[38,23,21,23],[38,24,21,24,"type"],[38,28,21,8],[38,33,21,33],[38,51,21,4],[38,53,21,53],[39,0,22,8],[39,10,22,12,"newVersionEvent"],[39,25,22,27],[39,26,22,28,"manifestString"],[39,40,22,12],[39,44,22,46],[39,51,22,53,"newVersionEvent"],[39,66,22,68],[39,67,22,69,"manifestString"],[39,81,22,46],[39,86,22,88],[39,94,22,8],[39,96,22,98],[40,0,23,12,"newVersionEvent"],[40,8,23,12,"newVersionEvent"],[40,23,23,27],[40,24,23,28,"manifest"],[40,32,23,12],[40,35,23,39,"JSON"],[40,39,23,43],[40,40,23,44,"parse"],[40,45,23,39],[40,46,23,50,"newVersionEvent"],[40,61,23,65],[40,62,23,66,"manifestString"],[40,76,23,39],[40,77,23,12],[41,0,24,12],[41,15,24,19,"newVersionEvent"],[41,30,24,34],[41,31,24,35,"manifestString"],[41,45,24,12],[42,0,25,9],[44,0,26,8],[44,13,26,15,"newVersionEvent"],[44,28,26,30],[44,29,26,31,"type"],[44,33,26,8],[46,0,27,8],[46,10,27,12],[46,11,27,13,"_emitter"],[46,19,27,8],[46,21,27,23],[47,0,28,12],[47,14,28,18],[47,18,28,22,"Error"],[47,23,28,18],[47,84,28,12],[48,0,29,9],[50,0,30,8,"_emitter"],[50,6,30,8,"_emitter"],[50,14,30,16],[50,15,30,17,"emit"],[50,19,30,8],[50,20,30,22],[50,41,30,8],[50,43,30,45,"newVersionEvent"],[50,58,30,8],[51,0,31,5],[52,0,32,1],[54,0,33,7],[54,11,33,16,"addNewVersionListenerExperimental"],[54,44,33,7],[54,45,33,50,"listener"],[54,53,33,7],[54,55,33,60],[55,0,34,4,"console"],[55,4,34,4,"console"],[55,11,34,11],[55,12,34,12,"warn"],[55,16,34,4],[55,17,34,17],[55,134,34,4],[57,0,35,4],[57,8,35,8,"emitter"],[57,15,35,15],[57,18,35,18,"_getEmitter"],[57,29,35,29],[57,31,35,4],[59,0,36,4],[59,11,36,11,"emitter"],[59,18,36,18],[59,19,36,19,"addListener"],[59,30,36,11],[59,31,36,31],[59,52,36,11],[59,54,36,54,"listener"],[59,62,36,11],[59,63,36,4],[60,0,37,1]]},"type":"js/module"}]}